\everyjob{\typeout{Concordia University Thesis Style, Steve Malowany <10 Jan 1992>}}
\everyjob{\typeout{\space\space\space\space\space\space\space\space\space\space
\space\space\space\space\space\space\space\space\space\space\space
\space\space\space\space\space revised by Stan Swiercz <28 Mar 1995>}}
\everyjob{\typeout{\space\space\space\space\space\space\space\space\space\space
\space\space\space\space\space\space\space\space\space\space\space
\space\space\space revised by Patrice Chalin <12 Sep 1995>}}
\everyjob{\typeout{\space\space\space\space\space\space\space\space\space\space
\space\space\space\space\space\space\space\space\space\space\space
\space\space\space\space\space revised by Stan Swiercz <24 Sep 1996>}}

\immediate\write10{Concordia University Thesis Style, Steve Malowany <10 Jan 1992>}
\immediate\write10{\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space revised by Stan Swiercz <28 Mar 1995>}
\immediate\write10{\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space revised by Patrice Chalin <12 Sep 1995>}
\immediate\write10{\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space revised by Stan Swiercz <24 Sep 1996>}
%
\makeatletter
%\oddsidemargin 0.5in \evensidemargin 0.5in
\evensidemargin 1.5in
\oddsidemargin 1.5in
%\setlength{\oddsidemargin}{1.5in}
%\setlength{\evensidemargin}{1.5in}
%\oddsidemargin 1in \evensidemargin 1in
\marginparwidth 40pt \marginparsep 10pt
%\topmargin 0pt \headsep .5in         % no longer acceptable
%\textheight 8.1in \textwidth 6in     % no longer acceptable
%\topmargin 0in \headsep 0in %-0.1 topmargin
\topmargin 0in \headsep 0.1in %-0.1 topmargin
\textheight 8.75in \textwidth 6in %9in textheight
\brokenpenalty=10000
\renewcommand{\baselinestretch}{1.5}

% for continous numbering of figures & tables across chapters use the following:
\def\cl@chapter{\@elt{section}\@elt{footnote}}
\def\thefigure{\@arabic\c@figure}
\def\thetable{\@arabic\c@table}

% for figures  & tables numbered in the conventional
% report style (chapter.number)
% comment the above 3 lines and uncomment the following line:
%\def\cl@chapter{\@elt{section}\@elt{footnote}\@elt{figure}\@elt{table}}

\def\theequation{\arabic{equation}}

%\def\@xfloat#1[#2]{\ifhmode \@bsphack\@floatpenalty -\@Mii\else
   %\@floatpenalty-\@Miii\fi\def\@captype{#1}\ifinner
      %\@parmoderr\@floatpenalty\z@
    %\else\@next\@currbox\@freelist{\@tempcnta\csname ftype@#1\endcsname
       %\multiply\@tempcnta\@xxxii\advance\@tempcnta\sixt@@n
       %\@tfor \@tempa :=#2\do
                        %{\if\@tempa h\advance\@tempcnta \@ne\fi
                         %\if\@tempa t\advance\@tempcnta \tw@\fi
                         %\if\@tempa b\advance\@tempcnta 4\relax\fi
                         %\if\@tempa p\advance\@tempcnta 8\relax\fi
         %}\global\count\@currbox\@tempcnta}\@fltovf\fi
    %\global\setbox\@currbox\vbox\bgroup
    %\def\baselinestretch{1}\@normalsize
    %\boxmaxdepth\z@
    %\hsize\columnwidth \@parboxrestore}
%\long\def\@footnotetext#1{\insert\footins{\def\baselinestretch{1}\footnotesize
    %\interlinepenalty\interfootnotelinepenalty
    %\splittopskip\footnotesep
    %\splitmaxdepth \dp\strutbox \floatingpenalty \@MM
    %\hsize\columnwidth \@parboxrestore
   %\edef\@currentlabel{\csname p@footnote\endcsname\@thefnmark}\@makefntext
    %{\rule{\z@}{\footnotesep}\ignorespaces
      %#1\strut}}}

\def\degree#1{\gdef\@Degree{#1}}
\def\dept#1{\gdef\@dept{#1}}
\def\principaladviser#1{\gdef\@principaladviser{#1}}
\def\advis@r{Adviser}
\def\principaladvisor#1{\gdef\@principaladviser{#1}\gdef\advis@r{Advisor}}
\def\firstreader#1{\gdef\@firstreader{#1}}
\def\secondreader#1{\gdef\@secondreader{#1}}
\def\submitdate#1{\gdef\@submitdate{#1}}
\def\copyrightyear#1{\gdef\@copyrightyear{#1}} % \author, \title in report
%
% If your name contains accents then you must use for example
%   \a'{a} instead of \'{a}
%
\def\@title{}\def\@author{}\def\@Degree{}\def\@dept{Computer Science}
\def\@principaladviser{}\def\@firstreader{}\def\@secondreader{}
\def\@submitdate{\ifcase\the\month\or
  January\or February\or March\or April\or May\or June\or
  July\or August\or September\or October\or November\or December\fi
  \space \number\the\year}
\ifnum\month=12
    \@tempcnta=\year \advance\@tempcnta by 1
    \edef\@copyrightyear{\number\the\@tempcnta}
\else
    \def\@copyrightyear{\number\the\year}
\fi
\newif\ifcopyright \newif\iffigurespage \newif\ifabbrspage \newif\iftablespage 
\copyrighttrue \figurespagetrue \tablespagetrue \abbrspagetrue

% \titeOfPhDAuthor is to be set to Mr. or Mrs., etc.
\def\titleOfPhDAuthor#1{\gdef\@titleOfPhDAuthor{#1}}
\newif\ifphd % if not PhD then Masters
\def\PhDDegree{Doctor of Philosophy}
\def\PhD{\phdtrue}
\let\phd\PhD
\def\Masters{\phdfalse}
\let\masters\Masters
\let\Master\Masters
\let\master\Masters
\Masters % by default
\newif\ifcosupervisor
\let\cosupervisor\cosupervisortrue
\cosupervisorfalse

\def\titlep{%
        \thispagestyle{empty}%
        \null\vskip1in%
        \begin{center}
% The following line added extra vertical spacing in titles with more
% than 2 lines. Changed September 24, 1996.
%                {\Large\uppercase\expandafter{\@title}}
                \Large\uppercase\expandafter{\@title}
        \end{center}
        \vfill
        \begin{center}
                \sc \@author
        \end{center}
        \vskip.5in
        \begin{center}
             \sc A thesis\\
%            \sc A PhD proposal\\
%            \sc A PhD Seminar\\
            in\\
            The Department\\
            of\\
            \expandafter{\@dept}\\
        \end{center}
        \vskip.5in
        \begin{center}
                 {\small \sc Presented in Partial Fulfillment of the Requirements\\
                 For the Degree of \ifphd\PhDDegree\else\@Degree\fi ~at\\
                Concordia University\\
                Montr\'{e}al, Qu\'{e}bec, Canada}
        \end{center}
        \vfill
        \begin{center}
                \sc \@submitdate\\
                \copyright \ {\@author}, \@copyrightyear
        \end{center}\vskip.5in\newpage}

\long\def\phdsignature#1{%
\begin{center}
\begin{minipage}{4in}
\parindent=0pt
I certify that I have read this thesis and that in my opinion
it is fully adequate, in scope and in quality, as a dissertation for the degree
of Doctor of Philosophy.
\par
\vspace{.5in}
\hbox to 4in{\hfil\shortstack{\vrule width 3in height 0.4pt\\#1}}
\end{minipage}
\end{center}}

\def\signaturepage{%
    \begin{center}
        {\Large \sc Concordia University}\\
        {\large School of Graduate Studies}
    \end{center}
    \vspace{.2in}
     This is to certify that the thesis prepared
    \begin{tabbing}
        \hspace*{1.2in} \= \kill
        By:           \> \textbf{\ifphd\@titleOfPhDAuthor~\fi\@author} \\
        Entitled:     \> \textbf{\parbox[t]{4.3in}{\@title}}\\
    \end{tabbing} 
     and submitted in partial fulfillment of the requirements for the degree of
    \begin{center}
        \bf \ifphd\PhDDegree~(\@Degree)\else\@Degree\fi
    \end{center}
     complies with the regulations of this University and meets the
     accepted standards with respect to originality and quality.\\
    \ \\
     Signed by the final examining committee:\\
    \ \\
    \hspace*{1cm} \hrulefill \makebox[3cm][l]{ Chair}\\
    \hspace*{1cm}   \raisebox{.3cm}{
         \mbox{Dr. Yuhong Yan}} \\
    \hspace*{1cm} \hrulefill \makebox[3cm][l]{ Examiner}\\
\hspace*{1cm}   \raisebox{.3cm}{
         \mbox{Dr. Todd Eavis}} \\
    \hspace*{1cm} \hrulefill \makebox[3cm][l]{ Examiner}\\
\hspace*{1cm}   \raisebox{.3cm}{
         \mbox{Dr. Lingyu Wang}} \\
    \hspace*{1cm} \hrulefill \makebox[3cm][l]{ Supervisors}\\
\hspace*{1cm}   \raisebox{.3cm}{
         \mbox{Dr. Joey Paquet and Dr. Rachida Dssouli}} 
    
     Approved by \hspace*{1.08in} \hrulefill\\
     \hspace*{2.04in} \raisebox{.3cm}{
         \mbox{Chair of Department or Graduate Program Director}}
     %\ \\  \ \\     
     \makebox[0.8in]{\hrulefill} \ 20 \makebox[.4in]{\hrulefill} \ \hspace*{0.4in} \hrulefill \\
 \hspace*{2.1in}  \raisebox{.3cm}{\parbox[t]{3.5in}{
\begin{spacing}{1}
Dr. Christopher Trueman, Interim Dean \ \\
                     Faculty of Engineering and Computer Science
\end{spacing}
}}



%         \hspace*{2.6in} \raisebox{.3cm}{
%        \mbox{Dr. Christopher Trueman, Interim Dean}} \\
% \hspace*{2.6in} \raisebox{.3cm}{
%        \mbox{Faculty of Engineering and Computer Science}}
%     \hspace*{2.6in} \parbox[t]{3.5in}{Dr. Christopher Trueman, Interim Dean \ \\
%                     Faculty of Engineering and Computer Science}
}

\usepackage[absolute]{textpos}

\def\beforepreface{
\pagenumbering{roman}
\pagestyle{plain}
\thispagestyle{empty}
\titlep
%\thispagestyle{empty}
% per http://graduatestudies.concordia.ca/documents/publications/graduatehandbooks/thesispreparationguide.pdf
\ifphd%
\begin{textblock*}{0pt}(-.6\leftmargin, -.05\topmargin)%
\includegraphics[width=8.5in,height=11in,trim={0mm 0mm 0mm 0mm},page=1]{forms/signaturepagephd-submit.pdf}
\thispagestyle{empty}
\end{textblock*}%
\null
\newpage
\setcounter{page}{3}\else\thispagestyle{empty}\signaturepage\fi}

\def\mastersabstract{%
        \thispagestyle{empty}
        \newpage
        \null\vskip.25in%
        \begin{center}
                {\LARGE\bf{Abstract}}
        \end{center}
        \begin{center}
% The following line added extra vertical spacing in titles with more
% than 2 lines. Changed September 24, 1996.
%              {\large\expandafter{\@title}}
                \large\expandafter{\@title}
        \end{center}
        \begin{center}
                \@author\\ \null
        \end{center}
%       \addcontentsline{toc}{chapter}{Abstract}
}

\def\phdabstract{%
        \newpage
        \null\vskip.25in%
        \begin{center}
                {\LARGE\bf{Abstract}}
        \end{center}
        \begin{center}
                {\large\expandafter{\@title}}
        \end{center}
        \@author, Ph.D. \\ Concordia University, \@copyrightyear\\ \null \\
%       \addcontentsline{toc}{chapter}{Abstract}
}

\def\prefacesection#1{%
        \chapter*{#1}
%       \addcontentsline{toc}{chapter}{#1}
}

\def\afterpreface{\newpage
        \addtocontents{toc}{\protect{\pdfbookmark[0]{\contentsname}{toc}}}
        \tableofcontents
        \newpage
        \iffigurespage
        \phantomsection
        \addcontentsline{toc}{chapter}{List of Figures} % list of figures
                {\addvspace{10pt}
                \let\saveaddvspace=\addvspace
                \def\addvspace##1{}
                \listoffigures
                \let\addvspace=\saveaddvspace}
                \newpage
        \fi
        \iftablespage
        \phantomsection
        \addcontentsline{toc}{chapter}{List of Tables}   % list of tables
                {\addvspace{10pt}
                \let\saveaddvspace=\addvspace
                \def\addvspace##1{}
                \listoftables
                \let\addvspace=\saveaddvspace}
                \newpage
        \fi
				% http://tex.stackexchange.com/questions/68553/how-to-combine-the-listings-and-algorithm2e-packages-to-be-used-with-list-of-lis
        \phantomsection
        \addcontentsline{toc}{chapter}{List of Algorithms and Listings}   % list of algos
                {\addvspace{10pt}
                \let\saveaddvspace=\addvspace
                \def\addvspace##1{}
%                \listofalgorithms
			     % http://stackoverflow.com/questions/2814714/how-to-change-title-in-listings
			     \renewcommand\lstlistingname{List of Algorithms and Listings}
			     \renewcommand\lstlistlistingname{List of Algorithms and Listings}
                \lstlistoflistings
                \let\addvspace=\saveaddvspace}
                \newpage
        \pagenumbering{arabic}
%       \pagestyle{headings}}     % no longer acceptable
}
% Start with pagestyle{headings} in case front matter isn't processed
%\pagestyle{headings}             % no longer acceptable

\renewenvironment{abstract}
	{\beforepreface\pdfbookmark[1]{Abstract}{Abstract}\ifphd\phdabstract\else\mastersabstract\fi}
	%{\afterpreface}
	{}

\newenvironment{acknowledgments}
	{\pdfbookmark[1]{Acknowledgments}{Acknowledgments}\prefacesection{Acknowledgments}}
	{\afterpreface}

\makeatother

